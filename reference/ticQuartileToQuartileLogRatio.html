<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>MS1 TIC-change quartile ratios (MS:4000057) or  
MS1 TIC quartile ratios (MS:4000058) — ticQuartileToQuartileLogRatio • MsQuality</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="MS1 TIC-change quartile ratios (MS:4000057) or  
MS1 TIC quartile ratios (MS:4000058) — ticQuartileToQuartileLogRatio"><meta property="og:description" content="MS:4000057 
&quot;The log ratios of successive TIC-change quartiles. The TIC changes are 
the list of MS1 total ion current (TIC) value changes from one to the next 
scan, produced when each MS1 TIC is subtracted from the preceding MS1 TIC. 
The metric's value triplet represents the log ratio of the TIC-change 
Q2 to Q1, Q3 to Q2, TIC-change-max to Q3&quot; [PSI:MS]  
For calculation of MS:400057 set mode = &quot;TIC_change&quot;. 
MS:4000058 
&quot;The log ratios of successive TIC quartiles. The metric's value triplet 
represents the log ratios of TIC-Q2 to TIC-Q1, TIC-Q3 to TIC-Q2, 
TIC-max to TIC-Q3.&quot; [PSI:MS] 
For calculation of MS:400058 set mode = &quot;TIC&quot;. 
The metric is calculated as follows: 
(1) the TIC (ionCount) of the Spectra object is calculated 
per scan event (with spectra ordered by retention time), 
(2) for *MS:4000057*, the differences between TIC values are calculated 
between subsequent scan events,
for *MS:4000058*, the TIC values between subsequent scan events are taken
as they are, 
(3) for *MS:4000057* and *MS:4000058* the ratios between the 25%, 50%, 
75%, and 100% quantile to the 25% quantile of the values of (2) are 
calculated.
Alternatively, if relativeTo = &quot;Q1&quot;, the ratios are calculated 
between the 50%/25%, 75%/25%, and 100%/25% quantiles, 
(4) The log values of the ratios are returned. "><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MsQuality</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.3.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/MsQuality.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>MS1 TIC-change quartile ratios (MS:4000057) or  
MS1 TIC quartile ratios (MS:4000058)</h1>
    
    <div class="hidden name"><code>ticQuartileToQuartileLogRatio.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>MS:4000057 <br>
"The log ratios of successive TIC-change quartiles. The TIC changes are 
the list of MS1 total ion current (TIC) value changes from one to the next 
scan, produced when each MS1 TIC is subtracted from the preceding MS1 TIC. 
The metric's value triplet represents the log ratio of the TIC-change 
Q2 to Q1, Q3 to Q2, TIC-change-max to Q3" [PSI:MS] <br> 
For calculation of MS:400057 set <code>mode = "TIC_change"</code>. <br></p>
<p>MS:4000058 <br>
"The log ratios of successive TIC quartiles. The metric's value triplet 
represents the log ratios of TIC-Q2 to TIC-Q1, TIC-Q3 to TIC-Q2, 
TIC-max to TIC-Q3." [PSI:MS] <br>
For calculation of MS:400058 set <code>mode = "TIC"</code>. <br></p>
<p>The metric is calculated as follows: <br>
(1) the TIC (<code>ionCount</code>) of the <code>Spectra</code> object is calculated 
per scan event (with spectra ordered by retention time), <br>
(2) for *MS:4000057*, the differences between TIC values are calculated 
between subsequent scan events,
for *MS:4000058*, the TIC values between subsequent scan events are taken
as they are, <br>
(3) for *MS:4000057* and *MS:4000058* the ratios between the 25%, 50%, 
75%, and 100% quantile to the 25% quantile of the values of (2) are 
calculated.
Alternatively, if <code>relativeTo = "Q1"</code>, the ratios are calculated 
between the 50%/25%, 75%/25%, and 100%/25% quantiles, <br>
(4) The <code>log</code> values of the ratios are returned. <br></p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ticQuartileToQuartileLogRatio</span><span class="op">(</span></span>
<span>  <span class="va">spectra</span>,</span>
<span>  relativeTo <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"previous"</span>, <span class="st">"Q1"</span><span class="op">)</span>,</span>
<span>  mode <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"TIC_change"</span>, <span class="st">"TIC"</span><span class="op">)</span>,</span>
<span>  msLevel <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>spectra</dt>
<dd><p><code>Spectra</code> object</p></dd>


<dt>relativeTo</dt>
<dd><p><code>character(1)</code>, one of <code>"Q1"</code> or 
<code>"previous"</code></p></dd>


<dt>mode</dt>
<dd><p><code>character(1)</code>, one of <code>"TIC_change"</code> or <code>"TIC"</code></p></dd>


<dt>msLevel</dt>
<dd><p><code>integer</code></p></dd>


<dt>...</dt>
<dd><p>not used here</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p><code>numeric(1)</code></p>


    </div>
    <div id="details">
    <h2>Details</h2>
    <p>MS:4000057 <br>
synonym: "MS1-TIC-Change-Q2" RELATED [PMID:24494671] <br>
synonym: "MS1-TIC-Change-Q3" RELATED [PMID:24494671] <br>
synonym: "MS1-TIC-Change-Q4" RELATED [PMID:24494671] <br>
is_a: MS:4000004 ! n-tuple <br>
relationship: has_metric_category MS:4000009 ! ID free metric <br>
relationship: has_metric_category MS:4000012 ! single run based metric <br>
relationship: has_metric_category MS:4000017 ! chromatogram metric <br>
relationship: has_metric_category MS:4000021 ! MS1 metric <br>
relationship: has_value_type xsd:float ! The allowed value-type for this CV term <br>
relationship: has_value_concept STATO:0000105 ! log signal intensity ratio <br></p>
<p>MS:4000058 <br>
synonym: "MS1-TIC-Q2" RELATED [PMID:24494671] <br>
synonym: "MS1-TIC-Q3" RELATED [PMID:24494671] <br>
synonym: "MS1-TIC-Q4" RELATED [PMID:24494671] <br>
is_a: MS:4000004 ! n-tuple <br>
relationship: has_metric_category MS:4000009 ! ID free metric <br>
relationship: has_metric_category MS:4000012 ! single run based metric <br>
relationship: has_metric_category MS:4000017 ! chromatogram metric <br>
relationship: has_metric_category MS:4000021 ! MS1 metric <br>
relationship: has_value_type xsd:float ! The allowed value-type for this CV term <br>
relationship: has_value_concept STATO:0000105 ! log signal intensity ratio <br></p>
<p>An attribute containing the PSI:MS term will only be returned if 
<code>relativeTo</code> is <code>"previous"</code> and <code>msLevel</code> is 1.</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>This function interprets the *quantiles* from the [PSI:MS] definition as
*quartiles*, i.e. the 0, 25, 50, 75 and 100% quantiles are used.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Thomas Naake</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://bioconductor.org/packages/S4Vectors" class="external-link">S4Vectors</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/RforMassSpectrometry/Spectra" class="external-link">Spectra</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">spd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/S4Vectors/man/DataFrame-class.html" class="external-link">DataFrame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    msLevel <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2L</span>, <span class="fl">2L</span>, <span class="fl">2L</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    polarity <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HMDB0000001"</span>, <span class="st">"HMDB0000001"</span>, <span class="st">"HMDB0001847"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"1-Methylhistidine"</span>, <span class="st">"1-Methylhistidine"</span>, <span class="st">"Caffeine"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## Assign m/z and intensity values</span></span></span>
<span class="r-in"><span><span class="va">spd</span><span class="op">$</span><span class="va">mz</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">109.2</span>, <span class="fl">124.2</span>, <span class="fl">124.5</span>, <span class="fl">170.16</span>, <span class="fl">170.52</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">83.1</span>, <span class="fl">96.12</span>, <span class="fl">97.14</span>, <span class="fl">109.14</span>, <span class="fl">124.08</span>, <span class="fl">125.1</span>, <span class="fl">170.16</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">56.0494</span>, <span class="fl">69.0447</span>, <span class="fl">83.0603</span>, <span class="fl">109.0395</span>, <span class="fl">110.0712</span>,</span></span>
<span class="r-in"><span>        <span class="fl">111.0551</span>, <span class="fl">123.0429</span>, <span class="fl">138.0662</span>, <span class="fl">195.0876</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">spd</span><span class="op">$</span><span class="va">intensity</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3.407</span>, <span class="fl">47.494</span>, <span class="fl">3.094</span>, <span class="fl">100.0</span>, <span class="fl">13.240</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6.685</span>, <span class="fl">4.381</span>, <span class="fl">3.022</span>, <span class="fl">16.708</span>, <span class="fl">100.0</span>, <span class="fl">4.565</span>, <span class="fl">40.643</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.459</span>, <span class="fl">2.585</span>, <span class="fl">2.446</span>, <span class="fl">0.508</span>, <span class="fl">8.968</span>, <span class="fl">0.524</span>, <span class="fl">0.974</span>, <span class="fl">100.0</span>, <span class="fl">40.994</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sps</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/Spectra/man/Spectra.html" class="external-link">Spectra</a></span><span class="op">(</span><span class="va">spd</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## MS:4000057</span></span></span>
<span class="r-in"><span><span class="fu">ticQuartileToQuartileLogRatio</span><span class="op">(</span>spectra <span class="op">=</span> <span class="va">sps</span>, relativeTo <span class="op">=</span> <span class="st">"previous"</span>,</span></span>
<span class="r-in"><span>    msLevel <span class="op">=</span> <span class="fl">2L</span>, mode <span class="op">=</span> <span class="st">"TIC_change"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>missing retention time values. Will keep original ordering of spectra.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>NaNs produced</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Q2/Q1      Q3/Q2      Q4/Q3 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -0.8741766        NaN  1.5084059 </span>
<span class="r-in"><span><span class="fu">ticQuartileToQuartileLogRatio</span><span class="op">(</span>spectra <span class="op">=</span> <span class="va">sps</span>, relativeTo <span class="op">=</span> <span class="st">"Q1"</span>,</span></span>
<span class="r-in"><span>    msLevel <span class="op">=</span> <span class="fl">2L</span>, mode <span class="op">=</span> <span class="st">"TIC_change"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>missing retention time values. Will keep original ordering of spectra.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>NaNs produced</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Q2/Q1      Q3/Q1      Q4/Q1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -0.8741766        NaN        NaN </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## MS:4000058</span></span></span>
<span class="r-in"><span><span class="fu">ticQuartileToQuartileLogRatio</span><span class="op">(</span>spectra <span class="op">=</span> <span class="va">sps</span>, relativeTo <span class="op">=</span> <span class="st">"previous"</span>,</span></span>
<span class="r-in"><span>    msLevel <span class="op">=</span> <span class="fl">2L</span>, mode <span class="op">=</span> <span class="st">"TIC"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>missing retention time values. Will keep original ordering of spectra.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Q2/Q1      Q3/Q2      Q4/Q3 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.02966707 0.02587981 0.02522691 </span>
<span class="r-in"><span><span class="fu">ticQuartileToQuartileLogRatio</span><span class="op">(</span>spectra <span class="op">=</span> <span class="va">sps</span>, relativeTo <span class="op">=</span> <span class="st">"Q1"</span>,</span></span>
<span class="r-in"><span>    msLevel <span class="op">=</span> <span class="fl">2L</span>, mode <span class="op">=</span> <span class="st">"TIC"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>missing retention time values. Will keep original ordering of spectra.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Q2/Q1      Q3/Q1      Q4/Q1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.02966707 0.05554688 0.08077378 </span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Thomas Naake, Johannes Rainer.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

